import { Anchor, Meta, Preview, Story, Props } from "@storybook/addon-docs/blocks";
import { IconGallery } from "../src";
import {
    AddIcon,
    AddUserIcon,
    ArrowIcon,
    CalendarIcon,
    CheckIcon,
    CircleIcon,
    CircleIcon24,
    ClearFilterIcon,
    CloseIcon,
    CommunicationIcon,
    CompareIcon,
    CsvIcon,
    VideoIcon
} from "@orbit-ui/icons";

<Meta title="Usage" />

<Anchor storyId="usage--single-variant" />

# Icon Gallery

An icon gallery for Storybook docs that support multiple icon variants.

## Installation

<details><summary>install the packages</summary>

```bash
npm i -D storybook-icon-gallery
```

</details>

<details><summary>Then import the icon gallery components</summary>

```js
import { IconGallery } from "storybook-icon-gallery";
```

</details>

## Props

<Props
    components={{
        "IconGallery": IconGallery,
        "IconGallery.Item": IconGallery.Item
    }}
/>

## Usage

export function renderItem(name, Icon) {
    return (
        <IconGallery.Item name={name} size={30}>
                {Icon && <Icon />}
        </IconGallery.Item>
    );
}


To apply a custom pattern for all icons copy value, a function can be provided to the `getCopyValue` prop of the `IconGallery` component.

### Items display name

To apply a custom pattern for the display name of all the items, a function can be provided to the `getDisplayName` prop of the `IconGallery` component.

### No variants

Variants are optionnal, you can still use this component if your design system dont support multiple variants of icons.

<Preview>
    <Story name="no-variants">
        <IconGallery>
            <IconGallery.Item name="add">
                <AddIcon />
            </IconGallery.Item>
            <IconGallery.Item name="calendar">
                <CalendarIcon />
            </IconGallery.Item>
            <IconGallery.Item name="check">
                <CheckIcon />
            </IconGallery.Item>
            <IconGallery.Item name="arrow">
                <ArrowIcon />
            </IconGallery.Item>
            <IconGallery.Item name="circle" size={24}>
                <CircleIcon24 />
            </IconGallery.Item>
            <IconGallery.Item name="csv">
                <CsvIcon />
            </IconGallery.Item>
        </IconGallery>
    </Story>
</Preview>

### Render function

The icon gallery have been design for flexibility at the expense of redundacy. To stop repeating over and over the same boilerplate code, you can define a custom render function.

```jsx
function renderItem(name, Icon) {
    return (
        <IconGallery.Item name={name} size={30}>
                {Icon && <Icon />}
            </IconGallery.Item>
    );
}
```

<Preview>
    <Story name="render function">
        <IconGallery>
            {renderItem("add", AddIcon)}
            {renderItem("video", null, VideoIcon)}
            {renderItem("calendar", CalendarIcon)}
        </IconGallery>
    </Story>
</Preview>

### Multiple lines

An icon gallery can have multiple lines. The component will try to squeeze as many icons as possible on every line.

<Preview>
    <Story name="multiple lines">
        <IconGallery>
            {renderItem("add",  AddIcon)}
            {renderItem("add user", AddUserIcon)}
            {renderItem("arrow", ArrowIcon)}
            {renderItem("video", VideoIcon)}
            {renderItem("calendar", CalendarIcon)}
            {renderItem("check", CheckIcon)}
            {renderItem("circle", CircleIcon)}
            {renderItem("clear filter", ClearFilterIcon)}
            {renderItem("close", CloseIcon)}
            {renderItem("communication", CommunicationIcon)}
            {renderItem("compare", CompareIcon)}
            {renderItem("csv", CsvIcon)}
        </IconGallery>
    </Story>
</Preview>

<Story
    name="box-sizing-override"
    parameters={{
        docs: {
            disable: true
        }
    }}
>
    <div className="border-box">
        <IconGallery>
            {renderItem("add", AddIcon)}
        </IconGallery>
    </div>
</Story>





